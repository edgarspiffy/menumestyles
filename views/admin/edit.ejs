<% include ../partials/mainHeader %>

<div class="container"><%= data %></div>


<!-- ADD FORM -->
<div class="container pt-3">
  <div id='admin-edit-form'>
    <form method="POST" action="/admin/<%= id %>?_method=put">
      <% include ./forms/restaurantInfo %>
      <button class='btn btn-warning'>UPDATE INFO</button>
    </form>
  </div>
</div>

<!-- DELETE FORM -->
<div class="container pt-3 pb-3">
  <form method="POST" action="/admin/<%= id %>?_method=delete">
    <button class='btn btn-danger'>Delete</button>
  </form>
</div>

<!-- ADD DISH -->
<div class="container mt-5 pt-3 pb-3">
  <p>Add A Dish</p>
  <form method='POST' action="/admin/newDish/<%= id %>">
    <div class="form-row">

      <div class="form-group col-2">
        <label for="dishName">Name</label>
        <input class="form-control" id='dishName' name='dishName' type="text" required>
      </div>

      <div class="form-group col-1">
        <label for="price">Price</label>
        <input type="number" min="0.00" max="10000.00" step="0.01" class="form-control input-group-addon" id='price'
          name='price' type="number" required>
      </div>


      <div class="form-group col-6">
        <label for="ingredients">ingredients (seperate by comma)</label>
        <textarea class="form-control" id='ingredients' name='ingredients' type="text" required></textarea>
      </div>



      <div class="form-group col-2">
        <label for="submit">Add New Dish</label>
        <input style='background:blue;color:white;' class='btn btn-block' id='submit' value='Save' type="submit">
      </div>

    </div>
  </form>
</div>









<div class="container mb-5">
  <div class="row">
    <% data.dishes.forEach(element => { %>
    <div class="col-4">

      <form method="POST" action="/admin/editDish/<%= element.id %>?_method=put">
        <div class="card">
          <div class="card-body">


            <div class="form-group">
              <label for="dishName">Name</label>
              <input class="form-control" id='dishName' name='dishName' type="text" required
                value="<%= element.dishInfo.name %>">
            </div>

            <div class="form-group">
              <label for="ingredients">Ingredients</label>
              <textarea class="form-control" id='ingredients' name='ingredients' type="text" required
                value=""><%= element.dishInfo.ingredients %></textarea>
            </div>

            <div class="form-group">
              <label for="price">Price</label>
              <input class="form-control" id='price' name='price' type="text" required
                value="<%= element.dishInfo.price %>">
            </div>

            <p><%= element.restaurantInfo %> </p>
            <p><%= element.restaurantAddress %> </p>
            <p><%= element.restaurantHours %> </p>
            <p><%= element.restaurantAttributes %> </p>

            <button class='btn btn-warning'>Update</button>

          </div>
        </div>
      </form>
      <!-- DELETE -->
      <form method="POST" action="/admin/deleteDish/<%= element.id %>?_method=delete">
        <button class='btn btn-danger'>DELETE</button>
      </form>


    </div>
    <% }) %>
  </div>
</div>



<% include ../partials/mainFooter %>